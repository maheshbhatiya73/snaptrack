import{r as b,p as S,i as B,e as Z,q as Y,c as a,o as r,a as e,b as ee,g as f,F as P,y as R,d as F,t as w,j as N,n as C,w as te,k as T,v as q,T as le,H as se,h as ae,l as W,s as X}from"#entry";import{x as ne,t as ie,f as ue}from"./EuvIHkR0.js";const de=["disabled"],ce={class:"flex flex-wrap gap-1"},ve=["onClick"],fe={key:0,class:"text-slate-500"},me={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},pe={key:0,class:"absolute z-50 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"},be={key:0,class:"px-3 py-2 border-b border-slate-200"},ye={key:1,class:"px-3 py-2 border-b border-slate-200"},ge={key:2,class:"px-3 py-2 text-sm text-slate-500"},xe={key:3},he=["onClick"],ke={class:"flex items-center"},we={class:"flex items-center h-5"},_e=["checked"],Ve={class:"ml-3"},Se={class:"block truncate font-normal"},Ce={key:0,class:"block text-xs text-slate-500"},$e={__name:"MultiSelectDropdown",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,required:!0},placeholder:{type:String,default:"Select options"},disabled:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},error:{type:Boolean,default:!1},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},showSelectAll:{type:Boolean,default:!0}},emits:["update:modelValue","change"],setup(c,{emit:A}){const s=c,g=A,$=b(null),K=b(null),v=b(!1),m=b(""),L=S(()=>s.options.filter(i=>s.modelValue.includes(i[s.valueKey]))),x=S(()=>{if(!s.searchable||!m.value)return s.options;const i=m.value.toLowerCase();return s.options.filter(d=>d[s.labelKey].toLowerCase().includes(i)||d.description&&d.description.toLowerCase().includes(i))}),y=S(()=>s.options.length>0&&s.options.every(i=>s.modelValue.includes(i[s.valueKey]))),_=i=>s.modelValue.includes(i[s.valueKey]),z=()=>{s.disabled||(v.value=!v.value,v.value&&s.searchable&&se(()=>{K.value?.focus()}))},h=i=>{const d=i[s.valueKey],u=[...s.modelValue];if(_(i)){const V=u.indexOf(d);V>-1&&u.splice(V,1)}else u.push(d);g("update:modelValue",u),g("change",u)},l=i=>{const d=i[s.valueKey],u=s.modelValue.filter(V=>V!==d);g("update:modelValue",u),g("change",u)},p=()=>{if(y.value)g("update:modelValue",[]);else{const i=s.options.map(d=>d[s.valueKey]);g("update:modelValue",i)}g("change",s.modelValue)},k=i=>{$.value&&!$.value.contains(i.target)&&(v.value=!1,m.value="")};return B(()=>s.modelValue,()=>{g("change",s.modelValue)}),Z(()=>{document.addEventListener("click",k)}),Y(()=>{document.removeEventListener("click",k)}),(i,d)=>(r(),a("div",{class:"relative",ref_key:"dropdownRef",ref:$},[e("button",{type:"button",onClick:z,disabled:c.disabled,class:C(["relative w-full bg-white border border-slate-300 rounded-lg shadow-sm pl-3 pr-10 py-2.5 text-left cursor-default focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm min-h-[42px]",c.disabled?"bg-slate-50 text-slate-400 cursor-not-allowed":"hover:border-slate-400",c.error?"border-red-300 focus:ring-red-500 focus:border-red-500":""])},[e("div",ce,[(r(!0),a(P,null,R(L.value,u=>(r(),a("span",{key:u[c.valueKey],class:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800"},[F(w(u[c.labelKey])+" ",1),e("button",{type:"button",onClick:N(V=>l(u),["stop"]),class:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-blue-200"},[...d[3]||(d[3]=[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])],8,ve)]))),128)),L.value.length===0?(r(),a("span",fe,w(c.placeholder),1)):f("",!0)]),e("span",me,[(r(),a("svg",{class:C(["w-5 h-5 text-slate-400 transition-transform duration-200",{"rotate-180":v.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...d[4]||(d[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])],10,de),ee(le,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:te(()=>[v.value?(r(),a("div",pe,[c.searchable?(r(),a("div",be,[T(e("input",{ref_key:"searchInput",ref:K,"onUpdate:modelValue":d[0]||(d[0]=u=>m.value=u),type:"text",placeholder:"Search...",class:"w-full px-2 py-1 text-sm border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onClick:d[1]||(d[1]=N(()=>{},["stop"]))},null,512),[[q,m.value]])])):f("",!0),c.showSelectAll?(r(),a("div",ye,[e("button",{type:"button",onClick:p,class:C(["w-full text-left px-2 py-1 text-sm rounded hover:bg-slate-100",y.value?"text-blue-600 font-medium":"text-slate-700"])},w(y.value?"Deselect All":"Select All"),3)])):f("",!0),x.value.length===0?(r(),a("div",ge,w(m.value?"No options found":"No options available"),1)):(r(),a("div",xe,[(r(!0),a(P,null,R(x.value,u=>(r(),a("button",{key:u[c.valueKey],type:"button",onClick:V=>h(u),class:C(["relative w-full px-3 py-2 text-left cursor-default select-none hover:bg-blue-50 hover:text-blue-900",_(u)?"bg-blue-100 text-blue-900":"text-slate-900"])},[e("div",ke,[e("div",we,[e("input",{checked:_(u),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 rounded",onClick:d[2]||(d[2]=N(()=>{},["stop"]))},null,8,_e)]),e("div",Ve,[e("span",Se,w(u[c.labelKey]),1),u.description?(r(),a("span",Ce,w(u.description),1)):f("",!0)])])],10,he))),128))]))])):f("",!0)]),_:1})],512))}},Ke=["disabled"],Le={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},ze={key:0,class:"absolute z-50 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"},Te={key:0,class:"px-3 py-2 border-b border-slate-200"},Be={key:1,class:"px-3 py-2 text-sm text-slate-500"},Me={key:2},Oe=["onClick"],Ae={class:"block truncate font-normal"},Ue={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-4 text-blue-600"},Ne={__name:"CustomDropdown",props:{modelValue:{type:[String,Number,Object],default:null},options:{type:Array,required:!0},placeholder:{type:String,default:"Select an option"},disabled:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},error:{type:Boolean,default:!1},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"}},emits:["update:modelValue","change"],setup(c,{emit:A}){const s=c,g=A,$=b(null),K=b(null),v=b(!1),m=b(""),L=S(()=>{if(!s.modelValue)return"";const l=s.options.find(p=>p[s.valueKey]===s.modelValue);return l?l[s.labelKey]:""}),x=S(()=>{if(!s.searchable||!m.value)return s.options;const l=m.value.toLowerCase();return s.options.filter(p=>p[s.labelKey].toLowerCase().includes(l))}),y=l=>l[s.valueKey]===s.modelValue,_=()=>{s.disabled||(v.value=!v.value,v.value&&s.searchable&&se(()=>{K.value?.focus()}))},z=l=>{g("update:modelValue",l[s.valueKey]),g("change",l),v.value=!1,m.value=""},h=l=>{$.value&&!$.value.contains(l.target)&&(v.value=!1,m.value="")};return B(()=>s.modelValue,()=>{g("change",s.options.find(l=>l[s.valueKey]===s.modelValue))}),Z(()=>{document.addEventListener("click",h)}),Y(()=>{document.removeEventListener("click",h)}),(l,p)=>(r(),a("div",{class:"relative",ref_key:"dropdownRef",ref:$},[e("button",{type:"button",onClick:_,disabled:c.disabled,class:C(["relative w-full bg-white border border-slate-300 rounded-lg shadow-sm pl-3 pr-10 py-2.5 text-left cursor-default focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",c.disabled?"bg-slate-50 text-slate-400 cursor-not-allowed":"hover:border-slate-400",c.error?"border-red-300 focus:ring-red-500 focus:border-red-500":""])},[e("span",{class:C(["block truncate",{"text-slate-500":!L.value}])},w(L.value||c.placeholder),3),e("span",Le,[(r(),a("svg",{class:C(["w-5 h-5 text-slate-400 transition-transform duration-200",{"rotate-180":v.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...p[2]||(p[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])],10,Ke),ee(le,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:te(()=>[v.value?(r(),a("div",ze,[c.searchable?(r(),a("div",Te,[T(e("input",{ref_key:"searchInput",ref:K,"onUpdate:modelValue":p[0]||(p[0]=k=>m.value=k),type:"text",placeholder:"Search...",class:"w-full px-2 py-1 text-sm border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onClick:p[1]||(p[1]=N(()=>{},["stop"]))},null,512),[[q,m.value]])])):f("",!0),x.value.length===0?(r(),a("div",Be,w(m.value?"No options found":"No options available"),1)):(r(),a("div",Me,[(r(!0),a(P,null,R(x.value,k=>(r(),a("button",{key:k.value,type:"button",onClick:i=>z(k),class:C(["relative w-full px-3 py-2 text-left cursor-default select-none hover:bg-blue-50 hover:text-blue-900",y(k)?"bg-blue-100 text-blue-900":"text-slate-900"])},[e("span",Ae,w(k.label),1),y(k)?(r(),a("span",Ue,[...p[3]||(p[3]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])])):f("",!0)],10,Oe))),128))]))])):f("",!0)]),_:1})],512))}},qe={class:"max-w-4xl mx-auto"},Ie={class:"bg-white rounded-lg shadow-sm border border-slate-200 p-6"},Ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},je={class:"bg-white rounded-lg shadow-sm border border-slate-200 p-6"},De={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Fe={class:"md:col-span-2"},Pe={key:0,class:"text-center py-4"},Re={key:1,class:"text-center py-4 text-slate-500"},He={key:4,class:"mt-2"},Qe={class:"text-sm text-red-600"},We={class:"list-disc list-inside mt-1"},Ze={key:0},Ge={for:"source",class:"block text-sm font-medium text-slate-700 mb-2"},Je={key:0,class:"text-xs text-slate-500"},Xe={class:"relative"},Ye=["placeholder"],et={class:"absolute inset-y-0 right-0 flex items-center pr-3"},tt={key:0,class:"w-4 h-4"},lt={key:1,class:"w-4 h-4 text-green-500"},st={key:2,class:"w-4 h-4 text-red-500"},ot={key:0,class:"mt-1 text-sm text-red-600"},rt={key:1},at={for:"destination",class:"block text-sm font-medium text-slate-700 mb-2"},nt={key:0,class:"text-xs text-slate-500"},it={class:"relative"},ut=["placeholder"],dt={class:"absolute inset-y-0 right-0 flex items-center pr-3"},ct={key:0,class:"w-4 h-4"},vt={key:1,class:"w-4 h-4 text-green-500"},ft={key:2,class:"w-4 h-4 text-red-500"},mt={key:0,class:"mt-1 text-sm text-red-600"},pt={class:"flex items-center justify-end space-x-3 pt-4"},bt=["disabled"],yt={key:0,class:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},ht={__name:"BackupForm",props:{backup:{type:Object,default:null},loading:{type:Boolean,default:!1},singleServer:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(c,{emit:A}){const s=c,g=A,$=!!s.backup,K=b(!1),v=b([]),m=b(!1),L=b(!1),x=b(null),y=b(null),_=b(""),z=b(""),h=b([]),l=ae({name:"",type:"full",source:"",destination:"",file_type:"tar",server_id:null,server_ids:[],schedule_type:"one_time"}),p=S(()=>v.value.map(o=>({value:o.id,label:o.name,description:`${o.host} - ${o.type||"Unknown"}`}))),k=S(()=>s.singleServer?l.server_id!==null?[l.server_id]:[]:l.server_ids),i=S(()=>{if(k.value.length===0)return null;const o=v.value.find(t=>t.id===k.value[0]);return o&&o.type||null}),d=S(()=>s.singleServer?l.server_id!==null:l.server_ids.length>0),u=S(()=>{const o=s.singleServer?l.server_id!==null:l.server_ids.length>0;return l.name.trim()!==""&&l.source.trim()!==""&&l.destination.trim()!==""&&o&&x.value!==!1&&y.value!==!1&&h.value.length===0}),V=o=>{const t=v.value.find(n=>n.id===o);return t?t.name:`Server ${o}`};B(()=>s.backup,o=>{o&&Object.assign(l,{name:o.name||"",type:o.type||"full",source:o.source||"",destination:o.destination||"",file_type:o.file_type||"tar",server_ids:o.server_ids||[],server_id:Array.isArray(o.server_ids)&&o.server_ids.length>0?o.server_ids[0]:o.server_id||null,schedule_type:o.schedule_type||"one_time"})},{immediate:!0}),B(()=>l.source,o=>{o&&o.trim()!==""?setTimeout(()=>I(o,!0),500):(x.value=null,_.value="")}),B(()=>l.destination,o=>{o&&o.trim()!==""?setTimeout(()=>I(o,!1),500):(y.value=null,z.value="")}),B(()=>l.server_ids,o=>{s.singleServer||(o.length>0?setTimeout(()=>H(),300):h.value=[])},{deep:!0}),B(()=>l.server_id,o=>{s.singleServer&&(o!==null?setTimeout(()=>H(),300):h.value=[])});const oe=async()=>{try{K.value=!0,v.value=await ue()}catch(o){console.error("Failed to load servers:",o)}finally{K.value=!1}},I=async(o,t=!0)=>{if(!o||o.trim()==="")return;const n=t?m:L,E=t?x:y,j=t?_:z;n.value=!0,E.value=null,j.value="";try{let M=!0;const Q=[],G=k.value,J=i.value;let D=[];if(J==="remote"?t?D=[null]:D=G:D=[null],!t&&J==="remote"&&G.length===0){n.value=!1,E.value=null,j.value="Select a remote server to validate destination path";return}for(const U of D)try{const O=await ne(U,o);O.valid||(M=!1,Q.push(U?`${V(U)}: ${O.message}`:`Local: ${O.message}`))}catch(O){M=!1,Q.push(U?`${V(U)}: ${O.message||"Validation failed"}`:`Local: ${O.message||"Validation failed"}`)}E.value=M,M||(j.value=Q.join("; "))}catch(M){E.value=!1,j.value=M.message||"Failed to validate path"}finally{n.value=!1}},H=async()=>{h.value=[];const o=s.singleServer?l.server_id!==null?[l.server_id]:[]:l.server_ids;for(const t of o)try{const n=await ie(t);n.success||h.value.push({serverId:t,error:n.message})}catch(n){h.value.push({serverId:t,error:n.message||"Connection test failed"})}},re=async()=>{if(!u.value||(await I(l.source,!0),await I(l.destination,!1),await H(),x.value===!1||y.value===!1||h.value.length>0))return;const o={...l,server_ids:s.singleServer?l.server_id!==null?[l.server_id]:[]:l.server_ids};delete o.server_id,g("submit",o)};return Z(()=>{oe()}),(o,t)=>(r(),a("div",qe,[e("form",{onSubmit:N(re,["prevent"]),class:"space-y-6"},[e("div",Ie,[t[16]||(t[16]=e("h3",{class:"text-lg font-semibold text-slate-900 mb-4"},"Backup Information",-1)),e("div",Ee,[e("div",null,[t[9]||(t[9]=e("label",{for:"name",class:"block text-sm font-medium text-slate-700 mb-2"}," Name * ",-1)),T(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=n=>l.name=n),type:"text",required:"",class:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter backup name"},null,512),[[q,l.name]])]),e("div",null,[t[11]||(t[11]=e("label",{for:"type",class:"block text-sm font-medium text-slate-700 mb-2"}," Type * ",-1)),T(e("select",{id:"type","onUpdate:modelValue":t[1]||(t[1]=n=>l.type=n),required:"",class:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[10]||(t[10]=[e("option",{value:"full"},"Full",-1),e("option",{value:"incremental"},"Incremental",-1)])],512),[[W,l.type]])]),e("div",null,[t[13]||(t[13]=e("label",{for:"file_type",class:"block text-sm font-medium text-slate-700 mb-2"}," File Type * ",-1)),T(e("select",{id:"file_type","onUpdate:modelValue":t[2]||(t[2]=n=>l.file_type=n),required:"",class:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[12]||(t[12]=[e("option",{value:"tar"},"TAR",-1),e("option",{value:"zip"},"ZIP",-1),e("option",{value:"raw"},"RAW",-1)])],512),[[W,l.file_type]])]),e("div",null,[t[15]||(t[15]=e("label",{for:"schedule_type",class:"block text-sm font-medium text-slate-700 mb-2"}," Schedule Type * ",-1)),T(e("select",{id:"schedule_type","onUpdate:modelValue":t[3]||(t[3]=n=>l.schedule_type=n),required:"",class:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[14]||(t[14]=[e("option",{value:"one_time"},"One Time",-1),e("option",{value:"daily"},"Daily",-1),e("option",{value:"weekly"},"Weekly",-1),e("option",{value:"monthly"},"Monthly",-1)])],512),[[W,l.schedule_type]])])])]),e("div",je,[t[29]||(t[29]=e("h3",{class:"text-lg font-semibold text-slate-900 mb-4"},"Paths & Servers",-1)),e("div",De,[e("div",Fe,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"}," Target Servers * ",-1)),K.value?(r(),a("div",Pe,[...t[17]||(t[17]=[e("div",{class:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"},null,-1),e("p",{class:"mt-2 text-sm text-slate-600"},"Loading servers...",-1)])])):v.value.length===0?(r(),a("div",Re,[...t[18]||(t[18]=[e("p",{class:"text-sm"},"No servers available",-1)])])):f("",!0),c.singleServer?(r(),X(Ne,{key:2,modelValue:l.server_id,"onUpdate:modelValue":t[4]||(t[4]=n=>l.server_id=n),options:p.value,placeholder:"Select target server",searchable:""},null,8,["modelValue","options"])):(r(),X($e,{key:3,modelValue:l.server_ids,"onUpdate:modelValue":t[5]||(t[5]=n=>l.server_ids=n),options:p.value,placeholder:"Select target servers",searchable:""},null,8,["modelValue","options"])),h.value.length>0?(r(),a("div",He,[e("div",Qe,[t[19]||(t[19]=e("p",{class:"font-medium"},"Server connection issues:",-1)),e("ul",We,[(r(!0),a(P,null,R(h.value,n=>(r(),a("li",{key:n.serverId},w(V(n.serverId))+": "+w(n.error),1))),128))])])])):f("",!0)]),d.value?(r(),a("div",Ze,[e("label",Ge,[t[21]||(t[21]=F(" Source Path * ",-1)),i.value==="remote"?(r(),a("span",Je,"(validated on local)")):f("",!0)]),e("div",Xe,[T(e("input",{id:"source","onUpdate:modelValue":t[6]||(t[6]=n=>l.source=n),type:"text",required:"",class:C(["w-full px-3 py-2 pr-10 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",x.value===null?"border-slate-300":x.value?"border-green-500":"border-red-500"]),placeholder:i.value==="remote"?"/var/www (local source)":"/var/www"},null,10,Ye),[[q,l.source]]),e("div",et,[m.value?(r(),a("div",tt,[...t[22]||(t[22]=[e("svg",{class:"animate-spin text-blue-500",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):x.value===!0?(r(),a("div",lt,[...t[23]||(t[23]=[e("svg",{fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])])):x.value===!1?(r(),a("div",st,[...t[24]||(t[24]=[e("svg",{fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])])):f("",!0)])]),_.value?(r(),a("p",ot,w(_.value),1)):f("",!0)])):f("",!0),d.value?(r(),a("div",rt,[e("label",at,[t[25]||(t[25]=F(" Destination Path * ",-1)),i.value==="remote"?(r(),a("span",nt,"(validated on remote)")):f("",!0)]),e("div",it,[T(e("input",{id:"destination","onUpdate:modelValue":t[7]||(t[7]=n=>l.destination=n),type:"text",required:"",class:C(["w-full px-3 py-2 pr-10 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",y.value===null?"border-slate-300":y.value?"border-green-500":"border-red-500"]),placeholder:i.value==="remote"?"/path/on/remote/server":"/mnt/backups/backup.tar.gz"},null,10,ut),[[q,l.destination]]),e("div",dt,[L.value?(r(),a("div",ct,[...t[26]||(t[26]=[e("svg",{class:"animate-spin text-blue-500",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):y.value===!0?(r(),a("div",vt,[...t[27]||(t[27]=[e("svg",{fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])])):y.value===!1?(r(),a("div",ft,[...t[28]||(t[28]=[e("svg",{fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])])):f("",!0)])]),z.value?(r(),a("p",mt,w(z.value),1)):f("",!0)])):f("",!0)])]),e("div",pt,[e("button",{type:"button",onClick:t[8]||(t[8]=n=>o.$emit("cancel")),class:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"}," Cancel "),e("button",{type:"submit",disabled:c.loading||!u.value,class:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[c.loading?(r(),a("span",yt)):f("",!0),F(" "+w($?"Update Backup":"Create Backup"),1)],8,bt)])],32)]))}};export{ht as _};
