import{r as u,e as x,f,c as i,a as e,g as c,s as g,t as v,D as h,o}from"#entry";import{i as y,n as _,w}from"./EuvIHkR0.js";import{_ as B}from"./D1gjDEOA.js";const C={class:"min-h-screen bg-slate-50"},M={class:"px-6 py-6"},j={class:"max-w-4xl mx-auto"},S={key:0,class:"flex items-center justify-center py-12"},E={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6"},z={class:"flex items-center"},D={class:"text-sm text-red-700 mt-1"},F={key:2,class:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6"},I={class:"flex items-center"},N={class:"text-sm text-green-700 mt-1"},T={__name:"[id]",setup(R){const d=f(),p=h(),r=u(null),a=u(!1),l=u(null),n=u(null),m=()=>{d.push("/backup")},k=async()=>{try{a.value=!0,l.value=null;const s=p.params.id;r.value=await _(s)}catch(s){l.value=s.message,console.error("Failed to load backup:",s)}finally{a.value=!1}},b=async s=>{try{a.value=!0,l.value=null,n.value=null;const t=p.params.id;await w(t,s),n.value="Backup updated successfully!",setTimeout(()=>{d.push("/backup")},2e3)}catch(t){l.value=t.message,console.error("Failed to update backup:",t)}finally{a.value=!1}};return x(()=>{if(!y()){d.push("/auth/login");return}k()}),(s,t)=>(o(),i("div",C,[e("div",{class:"bg-white border-b border-slate-200"},[e("div",{class:"px-6 py-4"},[e("div",{class:"flex items-center justify-between"},[e("div",{class:"flex items-center space-x-4"},[e("button",{onClick:m,class:"p-2 text-slate-400 hover:text-slate-600 rounded-lg hover:bg-slate-100"},[...t[0]||(t[0]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),t[1]||(t[1]=e("div",null,[e("h1",{class:"text-2xl font-bold text-slate-900"},"Edit Backup"),e("p",{class:"mt-1 text-sm text-slate-600"},"Modify backup configuration and settings")],-1))])])])]),e("main",M,[e("div",j,[a.value&&!r.value?(o(),i("div",S,[...t[2]||(t[2]=[e("div",{class:"text-center"},[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e("p",{class:"mt-4 text-slate-600"},"Loading backup...")],-1)])])):l.value?(o(),i("div",E,[e("div",z,[t[4]||(t[4]=e("svg",{class:"w-5 h-5 text-red-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[t[3]||(t[3]=e("h3",{class:"text-sm font-medium text-red-800"},"Error loading backup",-1)),e("p",D,v(l.value),1)])])])):c("",!0),n.value?(o(),i("div",F,[e("div",I,[t[6]||(t[6]=e("svg",{class:"w-5 h-5 text-green-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[t[5]||(t[5]=e("h3",{class:"text-sm font-medium text-green-800"},"Success",-1)),e("p",N,v(n.value),1)])])])):c("",!0),r.value?(o(),g(B,{key:3,backup:r.value,loading:a.value,onSubmit:b,onCancel:m},null,8,["backup","loading"])):c("",!0)])])]))}};export{T as default};
